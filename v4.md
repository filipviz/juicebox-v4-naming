# Juicebox v4 Naming Updates

### Outstanding Questions

1. `IJBTokens` don't technically have to be ERC-20s, but all of them have been so far. Do we use the ERC-20 naming scheme, accepting that this may be slightly misleading in rare circumstances but clearer in most cases, or do we pick something else? Options: external tokens, custom tokens.
2. Project payer feels vague, but the alternatives seem worse. Some options: pay relay, fund forwarder, payment router. Do any of these feel better to you? Have other ideas?
3. Does anyone have better alternatives to "decay rate"?

### 1. JBTokenStore

- `issueFor(...)` mints a claimable ERC-20 token. This should be disambiguated (e.g. `deployErc20For(...)`).
- All variables should use "token". All natspec descriptions should use "project token".
- Unclaimed -> Internal. Add "internal" to ambiguous names (e.g. `transferFrom(...)` -> `transferInternalTokenFrom(...)`).
- Claimed -> ERC-20. Use ERC-20 in function names and variables (`_preferErc20Tokens`). Add ERC-20 to ambiguous names (e.g. `PROJECT_ALREADY_HAS_TOKEN` -> `PROJECT_ALREADY_HAS_ERC20_TOKEN`).
- Minor nits (`setFor(...)` -> `setTokenFor(...)`).

### 2. JBFundingCycleStore

- Funding cycle -> ruleset.
- We must fix the timestamp <-> struct <-> number trilemma (each of these is sometimes referred to as "funding cycle"). Let's use `rulesetTimestamp`, `rulesetData`, and `rulesetNumber`. In natspec: "Ruleset timestamp", "Ruleset data", and "Ruleset number".
- Reconfigure -> Edit ruleset (e.g. `reconfigureFundingCyclesOf(...)` -> `editRulesetOf(...)`).
- Discount rate -> decay rate? Issuance reduction proved clunky. Open to other ideas here.
- Weight -> Issuance rate.
- The distinction between user properties and intrinsic properties might be confusing. How about intrinsic properties -> internally derived properties, user properties -> user provided properties.
- `init` -> `setLatestRulesetFor`?
- Ballot -> approver.
- Base, eligible, standby, queued, and current cycle feel confusing. How about: base -> lastApproved, standby -> upcomingIfApproved, and eligible -> currentIfApproved, and queued -> upcoming (maybe currentlyUpcoming).
- `_mockFundingCycleBasedOn(...)` -> `_simulateRulesetRollover(...)`

### 3. JBProjects

No changes needed. MAYBE rename to `JBProjectNFTs`.

### 4. JBSplitsStore

- `set(...)` -> `setSplitsFor(...)`.
- `_includesLocked(...)` -> `_includesLockedSplits(...)`.
- Rename contract to `JBSplitStore`.

### 5. JBPrices

- `priceFor(...)` could be made clearer (like `currencyPriceForBase(...)`). Will consider.
- `addFeedFor(...)` -> `addPriceFeedFor(...)`

### 6. JBOperatorStore

- Rename contract to `JBPermissionStore`.
- Operator -> Admin.
- `setOperator(...)` -> `setPermissionsForAdmin(...)`.
- `setOperators(...)` -> `setPermissionsForAdmins(...)`.
- Consider renaming `JBOperatable` -> e.g. `JBPermissionModifiers`.

### 7. JBDirectory

- Rename the contract to `JBContractDirectory`.

### 8. JBController

- Rename contract to `JBProjectManager`
- `reservedTokenBalanceOf` -> `undistributedReservedTokenBalanceOf`
- Incorporate changes from `JBFundingCycleStore`
- `totalOutstandingTokensOf(...)` -> `totalTokenSupplyWithUndistributedReservesOf(...)`
- `launchProjectFor(...)` -> `createAndSetupProjectFor(...)`.
- `launchFundingCyclesFor(...)` -> `setupRulesetFor(...)`. Or create ruleset.
- Maybe `mintTokensOf(...)` -> `mintTokens(...)` (and `burnTokens(...)`) since these functions specify beneficiaries AND projects.
- `_configure` -> `_editRulesetOf(...)`
- Remove overflow allowance.
- `migrate(...)` -> `migrateProjectManager(...)`.

### 9. JBFundAccessConstraintsStore

- `setFor(...)` -> `setFundAccessConstraintsFor(...)`.
- Distribution limit -> Payout limit.
- Rename to `JBFundAccessConstraintStore`.

### 10. Payment Terminals

Contract naming:

- Payment terminal -> payment processor. Consequently,
- `IJBPaymentTerminal` -> `IJBPayProcessor`
- `IJBRedemptionTerminal` -> `IJBRedeemProcessor`
- `IJBPayoutTerminal` -> `IJBPayoutProcessor`
- `IJBAllowanceTerminal` will be removed.
- `IJBSingleTokenPaymentTerminal` -> `IJBSingleTokenPayProcessor`
- `IJBPayoutRedemptionPaymentTerminal` -> `IJBPayRedeemPayoutProcessor`
- `JBETHPaymentTerminal` -> `JBNativeFundProcessor`. The current name doesn't sufficiently distinguish from `IJBPaymentTerminal` (pay only) despite implementing `IJBPayoutRedemptionPaymentTerminal`.
- `JBERC20PaymentTerminal` -> `JBERC20FundProcessor`.

Other:

- `currentEthOverflowOf` -> `excessNativeTokensOf` OR `redeemableNativeTokenAmountOf`. I prefer `excessNativeTokensOf`.
- `migrate(...)` -> `migrateProcessor(...)`
- `_baseWeightCurrency` -> `_pricingCurrency`? Meh.
- Refund held fees -> unlock held fees.
- Process fees -> collect held fees.

### 11. JBToken

Rename contract to `JBERC20Token`.

### 12. JBChainlinkV3PriceFeed

No changes needed.

### 13. JBETHERC20ProjectPayer/JBETHERC20ProjectPayerDeployer

- Project payer feels vague, but the alternatives seem worse. Considering pay relay, fund forwarder, payment router.
- `setDefaultValues(...)` -> `setDefaultPayParameters(...)`.

### 14. JBETHERC20SplitsPayer/JBETHERC20SplitsPayerDeployer

Same as project payer.

### 15. JBMigrationOperator

Will (presumably) be removed.

### 16. JBReconfigurationBufferBallot

- Ballot -> approver (or e.g. ruleset approver).
- State -> Approval status. If this is too much, state is also fine.
- Reconfiguration buffer ballot -> Deadline approver?

### 17. Other

- Pay/redeem data source -> pay/redeem data provider. Still thinking about this one.
- Pay/redeem delegate -> pay/redeem callback.
